# ⚙️ Сравнение: Деплой и Запуск

Документ показывает, как изменился процесс развёртывания проекта.

---

## 1. Подготовка окружения

**До:**

* Запуск только локально через `python main.py`.
* Отсутствие инструкции для разных ОС.

**После:**

* Подробный `README` и `DEPLOYMENT.md`.
* Поддержка Linux, Mac, Windows.
* Унифицированный запуск.

---

## 2. Переменные окружения

**До:**

* Настройки были жёстко прописаны в коде.
* При смене окружения приходилось редактировать файлы.

**После:**

* Все параметры вынесены в `.env`.
* Поддержка секретов (токен, ключи AWS).
* Удобная смена окружений.

---

## 3. Запуск

**До:**

```bash
python main.py
```

* Нет контроля зависимостей.
* Сложно повторить на другом сервере.

**После:**

```bash
python -m bot
```

* Установка через `requirements.txt`.
* Лёгкий перенос на другие машины.

---

## 4. Docker

**До:**

* Не было Dockerfile.
* Запуск зависел от локальной конфигурации.

**После:**

* Оптимизированный Dockerfile.
* Сборка контейнера:

  ```bash
  docker build -t async-telegram-bot .
  ```
* Универсальный запуск:

  ```bash
  docker run --env-file .env async-telegram-bot
  ```

---

## 5. Docker Compose

**До:**

* Каждую службу приходилось настраивать вручную.
* База данных и Redis запускались отдельно.

**После:**

* Единый `docker-compose.yml`.
* Автоматический запуск PostgreSQL + Redis + Bot.
* Масштабирование через `docker-compose up --scale bot=3`.

---

## 6. Продакшн

**До:**

* Скрипты запускались вручную.
* При падении бот останавливался.

**После:**

* Поддержка systemd / supervisord.
* Логи перенаправляются в stdout.
* Регулярные бэкапы.

---

Эти изменения сделали деплой предсказуемым, воспроизводимым и готовым для продакшн-сред.
